name: snow_draw_workspace
homepage: https://github.com/mg-chao/snow_draw
repository: https://github.com/mg-chao/snow_draw
issue_tracker: https://github.com/mg-chao/snow_draw/issues
publish_to: none
environment:
  sdk: ^3.10.7
  flutter: ">=1.17.0"
workspace:
  - apps/snow_draw
  - packages/snow_draw_core
dev_dependencies:
  lint_hard: ^7.1.0
  melos: ^7.3.0

melos:
  scripts:
    analyze:
      description: Run static analysis (read-only, suitable for CI).
      run: melos exec -- flutter analyze

    format:check:
      description: Check formatting without modifying files.
      run: melos exec -- dart format --set-exit-if-changed .

    lint:
      description: Run all static analysis checks and auto-fix.
      run: |
        melos exec -- flutter analyze
        melos exec -- dart format .
        melos exec -- dart fix --apply

    test:
      description: Run tests in all packages.
      run: melos exec -- flutter test

    run:windows:
      description: Run the snow_draw app on Windows.
      packageFilters:
        scope: snow_draw
      exec: flutter run -d windows

    run:chrome:
      description: Run the snow_draw app on Chrome.
      packageFilters:
        scope: snow_draw
      exec: flutter run -d chrome
